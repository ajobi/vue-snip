function c(n,r,e){return r in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n}function b(n,r){var e=typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=C(n))||r&&n&&typeof n.length=="number"){e&&(n=e);var t=0,i=function(){};return{s:i,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,u=!1,o;return{s:function(){e=e.call(n)},n:function(){var s=e.next();return a=s.done,s},e:function(s){u=!0,o=s},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(u)throw o}}}}function C(n,r){if(!!n){if(typeof n=="string")return y(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return y(n,r)}}function y(n,r){(r==null||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}var f={directiveName:"snip",snipMethod:"css",maxLines:3,separators:[". ",", "," ",""],ellipsis:".\u200A.\u200A.",debugMode:!1,exposeSnipFunction:!1,snipFunctionName:"snipText"},I=function(r,e){var t=r.elementMap.get(e),i=t.fullText,a=t.maxLines;e.textContent=i,e.style.display="-webkit-box",e.style.webkitLineClamp=a,e.style.webkitBoxOrient="vertical",e.style.overflow="hidden"},H=1.2,g=function(r){var e=window.getComputedStyle(r),t=parseInt(e.height),i=e.lineHeight==="normal"?parseInt(e.fontSize)*H:parseInt(e.lineHeight);return t===0&&i===0?0:Math.ceil(t/i)},A=function(r,e){var t=r.elementMap.get(e),i=t.fullText,a=t.maxLines,u=r.options,o=u.ellipsis,p=u.separators;if(e.textContent=i,e.style.display=null,e.style.webkitLineClamp=null,e.style.webkitBoxOrient=null,e.style.overflow=null,!(a<=0||g(e)<=a)){var s={unprocessed:i,processed:""};p.forEach(function(l){var v=b(s.unprocessed.split(l)),m;try{for(v.s();!(m=v.n()).done;){var d=m.value;if(e.textContent="".concat(s.processed).concat(d).concat(l).concat(o),g(e)>a){s.unprocessed=d;break}s.processed="".concat(s.processed).concat(d).concat(l)}}catch(L){v.e(L)}finally{v.f()}}),e.textContent="".concat(s.processed.trim()).concat(o)}},N=function(r){return function(e){var t=r.elementMap.get(e);if(t.snipMethod==="css"){I(r,e);return}t.snipMethod==="js"&&(A(r,e),t.prevWidth=e.clientWidth,t.prevHeight=e.clientHeight)}},h=function(r,e){var t=parseInt(e);if(!isNaN(t))return t;var i=r.options.maxLines,a=parseInt(i);return isNaN(a)?f.maxLines:a},P=function(){return typeof CSS!="undefined"&&CSS.supports("display","-webkit-box")&&CSS.supports("-webkit-line-clamp","3")&&CSS.supports("-webkit-box-orient","vertical")},S=function(r,e){if(!P())return"js";if(e==="css"||e==="js")return e;var t=r.options.snipMethod;return t==="css"||t==="js"?t:f.snipMethod},M=function(r,e,t){var i=r.elementMap.get(t),a=i.observer||new ResizeObserver(function(){(t.clientWidth!==i.prevWidth||t.clientHeight!==i.prevHeight)&&e(t)});a.observe(t),i.observer=a},x=function(r,e){var t=r.elementMap.get(e);t.observer&&t.observer.disconnect(),t.observer&&delete t.prevWidth,t.observer&&delete t.prevHeight,t.observer&&delete t.observer},T=function(r,e){return function(t,i){var a=i.value,u=i.arg,o=r.elementMap,p={fullText:t.textContent,maxLines:h(r,a),snipMethod:S(r,u)};o.set(t,p);var s=p.snipMethod==="js";s&&typeof ResizeObserver!="undefined"?M(r,e,t):e(t)}},j=function(r,e){return function(t,i){var a=i.value,u=i.arg,o=r.elementMap.get(t),p=o.maxLines,s=o.snipMethod;o.maxLines=h(r,a),o.snipMethod=S(r,u);var l=o.snipMethod==="js";l&&typeof ResizeObserver!="undefined"?M(r,e,t):x(r,t);var v=p!==o.maxLines||s!==o.snipMethod&&o.snipMethod==="css";v&&e(t)}},z=function(r){return function(e){var t=r.elementMap;x(r,e),t.delete(e)}},$=Object.defineProperty,w=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,O=function(r,e,t){return e in r?$(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t},_=function(r,e){for(var t in e||(e={}))E.call(e,t)&&O(r,t,e[t]);if(w){var i=b(w(e)),a;try{for(i.s();!(a=i.n()).done;){var t=a.value;B.call(e,t)&&O(r,t,e[t])}}catch(u){i.e(u)}finally{i.f()}}return r},U={install:function(r,e){var t;e=_(_({},f),e);var i=new WeakMap,a={elementMap:i,options:e},u=N(a),o=T(a,u),p=j(a,u),s=z(a),l=r.version[0]>2;r.directive(e.directiveName,(t={},c(t,l?"mounted":"inserted",o),c(t,l?"updated":"update",p),c(t,l?"unmounted":"unbind",s),t)),e.exposeSnipFunction&&(r.prototype["$".concat(e.snipFunctionName)]=u),e.debugMode&&(window.__VueSnipState=a)}};export{U as default};
